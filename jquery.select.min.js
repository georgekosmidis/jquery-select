/*!
 * jQuery Styled Select, v1.0, 2013-11-29
 * https://github.com/georgekosmidis/jquery-select
 *
 * Based on styledSelect from http://jsfiddle.net/tovic/ZTHkQ/
 */
$(document).ready(function(){$("select").each(function(){var e=$(this),t=$(this).children("option").length;e.addClass("jquery-select-hidden");e.wrap('<div class="jquery-select-wrapper"></div>');e.after('<div class="jquery-select"></div>');var n=e.next("div.jquery-select");n.text(e.children("option:selected").text());var r=$("<ul />",{"class":"jquery-select-options"}).insertAfter(n);for(var i=0;i<t;i++){$("<li />",{text:e.children("option").eq(i).text(),rel:e.children("option").eq(i).val()}).appendTo(r)}var s=r.children("li");n.click(function(e){e.stopPropagation();$("div.jquery-select.jquery-select-active").each(function(){$(this).removeClass("jquery-select-active").next("ul.jquery-select-options").hide()});$(this).toggleClass("jquery-select-active").next("ul.jquery-select-options").toggle()});var o="";var u=function(){n.text(o);for(var e=s.length-1;e>=0;e--){$(s[e]).show();var t=$(s[e]).html();if(o.length>0&&t.toLowerCase().indexOf(o.toLowerCase())==-1){$(s[e]).slideUp()}}};$(document).keypress(function(e){if(n.attr("class").indexOf("jquery-select-active")!=-1){if(e.which==8){if(o.length>=1)o=o.substr(0,o.length-1)}else{if(e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.which!=8&&e.which!=9&&e.which!=16&&e.which!=17&&e.which!=18&&e.which!=20&&e.which!=91&&e.which!=93&&e.which!=13&&e.which!=27&&e.which!=46&&e.which!=33&&e.which!=34&&e.which!=35&&e.which!=36&&e.which!=37&&e.which!=38&&e.which!=39&&e.which!=40&&e.which!=144)o+=String.fromCharCode(e.which);else return}u()}}).keydown(function(e){if(e.which==8){if(n.attr("class").indexOf("jquery-select-active")!=-1){if(o.length>=1)o=o.substr(0,o.length-1);e.preventDefault();u()}}if(e.which==13){if(n.attr("class").indexOf("jquery-select-active")!=-1){for(var t=s.length-1;t>=0;t--){var r=$(s[t]).text();if(o.length>0&&r==o){$(s[t]).trigger("click");return}}}}});s.click(function(t){t.stopPropagation();n.text($(this).text()).removeClass("jquery-select-active");e.val($(this).attr("rel"));r.hide();e.trigger("change")});$(document).click(function(){n.removeClass("jquery-select-active");r.hide()})})})